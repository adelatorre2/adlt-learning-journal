---
title: 'Datacamp: Intermediate R'
output:
  word_document: default
  pdf_document: default
  html_notebook: default
---
Note:
• Learn more about R notebooks here: https://support.posit.co/hc/en-us/articles/200552276-Creating-Notebooks-from-R-Scripts-in-the-RStudio-IDE
• This is a dump notebook of all the useful stuff I learned seperated by modules.

#
# Intermediate R Notes
#
Below are selected notes and examples from the DataCamp Intermediate R course.

# Functions - Intermediate R
```{r}
values <- c(1,4,7, 9, NA, 10, 19)
sd(values)
# notice that prints NA because of the NA in vector
sd(x = values, na.rm = TRUE)
# By contrast, if na.rm - FALSE...
sd(x = values, na.rm = FALSE) #...we get NA again
```
You can also trim the values and calculate the mean (or use an function) to get the mean of muiltiple variables, as well as trim the result:

```{r}
# The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)
facebook <- c(17, 7, 5, 16, 8, 13, 14)

# Calculate the mean of the sum
avg_sum <- mean(linkedin + facebook)

# Calculate the trimmed mean of the sum
avg_sum_trimmed <- mean(linkedin + facebook, trim = 0.2, na.rm = FALSE)

# Inspect both new variables
print(avg_sum)
print(avg_sum_trimmed)
```

Another example of a function is the `apply()` function. It allows you to apply a function to the rows or columns of a 
matrix or data frame. The syntax is as follows:
 
# Syntax:
# apply(X, MARGIN, FUN, ...)
Where:
- `X` is the matrix or data frame
- `MARGIN` is either 1 (for rows) or 2 (for columns)
- `FUN` is the function to apply
- `...` are any additional arguments to pass to the function


# IMPORTANT: R passes arguments by value
# The title gives it away already: R passes arguments by value. What does this mean? 
# Simply put, it means that an R function cannot change the variable that you input to that function.

# Using Packaages: https://campus.datacamp.com/courses/intermediate-r/chapter-3-functions?ex=16
Use the search() function to find the function you want to use.
```{r}
#instal the package
install.packages("ggplot2")

# Load the ggplot2 package
library(ggplot2)

# Retry the qplot() function
qplot(mtcars$wt, mtcars$hp)

# Check out the currently attached packages again
search()
```
• R loads 7 packages by default: base, utils, datasets, grDevices, graphics, stats, and methods.
• require() = loads packages into your R session

There are muiltiple ways to load packages:
```{r}
# Chunk 1
library(data.table)
require(rjson)

# Chunk 2
library("data.table")
require(rjson)
```
These two options list all of the chunks that do not generate an error.

# Useful math functions that R features:
• abs(): Calculate the absolute value.
• sum(): Calculate the sum of all the values in a data structure.
• mean(): Calculate the arithmetic mean.
• round(): Round the values to 0 decimal places by default. 

# Data Utilities
R features a bunch of functions to juggle around with data structures::
• seq(): Generate sequences, by specifying the from, to, and by arguments.
• rep(): Replicate elements of vectors and lists.
• sort(): Sort a vector in ascending order. Works on numerics, but also on character strings and logicals.
• rev(): Reverse the elements in a data structures for which reversal is defined.
• str(): Display the structure of any R object.
• append(): Merge vectors or lists.
• is.*(): Check for the class of an R object.
• as.*(): Convert an R object from one class to another.
• list(): Flatten (possibly embedded) lists to produce a vector.

# Regular expressions
Regular expressions (regex) are a powerful tool for pattern matching 
and manipulation of strings in R. They allow you to search for specific 
patterns within text, replace text, or split text based on patterns.

• grepl(): The primary function for working with regular expressions in R.
• grep(): Searches for matches to a pattern within a character vector and returns the 
          indices of the matches.

# grepl & grep (2) - DATA CLEANING
You can use the caret, ^, and the dollar sign, $ to match the content 
located in the start and end of a string, respectively. This could take 
us one step closer to a correct pattern for matching only the ".edu" email 
addresses from our list of emails. But there's more that can be added to make the 
pattern more robust:

• @, because a valid email must contain an at-sign.
• .*, which matches any character (.) zero or more times (*). Both the dot 
  and the asterisk are metacharacters. You can use them to match any character 
  between the at-sign and the ".edu" portion of an email address.
• \\.edu$, to match the ".edu" part of the email at the end of the string. 
  The \\ part escapes the dot: it tells R that you want to use the . as an actual 
    character.